{"ast":null,"code":"// src/services/creator.js\nexport async function upgradeToCreator(payload = {}) {\n  // expects the app to already have your JWT in localStorage or similar\n  const token = localStorage.getItem(\"token\");\n  const API = process.env.REACT_APP_API_URL || \"http://localhost:3002/api\";\n  const res = await fetch(`${API}/creator/upgrade`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? {\n        Authorization: `Bearer ${token}`\n      } : {})\n    },\n    body: JSON.stringify(payload)\n  });\n\n  // helpful error surface\n  if (!res.ok) {\n    const err = await res.json().catch(() => ({}));\n    const msg = (err === null || err === void 0 ? void 0 : err.message) || `Upgrade failed with ${res.status}`;\n    throw new Error(msg);\n  }\n  return res.json(); // { success, message, onboardingUrl, creator, onboardingComplete }\n}","map":{"version":3,"names":["upgradeToCreator","payload","token","localStorage","getItem","API","process","env","REACT_APP_API_URL","res","fetch","method","headers","Authorization","body","JSON","stringify","ok","err","json","catch","msg","message","status","Error"],"sources":["/Users/chawsuhan/Music/git-test/sem7-project/project/src/services/creator.js"],"sourcesContent":["// src/services/creator.js\nexport async function upgradeToCreator(payload = {}) {\n  // expects the app to already have your JWT in localStorage or similar\n  const token = localStorage.getItem(\"token\");\n  const API = process.env.REACT_APP_API_URL || \"http://localhost:3002/api\";\n\n  const res = await fetch(`${API}/creator/upgrade`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? { Authorization: `Bearer ${token}` } : {})\n    },\n    body: JSON.stringify(payload)\n  });\n\n  // helpful error surface\n  if (!res.ok) {\n    const err = await res.json().catch(() => ({}));\n    const msg = err?.message || `Upgrade failed with ${res.status}`;\n    throw new Error(msg);\n  }\n\n  return res.json(); // { success, message, onboardingUrl, creator, onboardingComplete }\n}\n"],"mappings":"AAAA;AACA,OAAO,eAAeA,gBAAgBA,CAACC,OAAO,GAAG,CAAC,CAAC,EAAE;EACnD;EACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;EAExE,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,GAAG,kBAAkB,EAAE;IAChDM,MAAM,EAAE,OAAO;IACfC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,IAAIV,KAAK,GAAG;QAAEW,aAAa,EAAE,UAAUX,KAAK;MAAG,CAAC,GAAG,CAAC,CAAC;IACvD,CAAC;IACDY,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACf,OAAO;EAC9B,CAAC,CAAC;;EAEF;EACA,IAAI,CAACQ,GAAG,CAACQ,EAAE,EAAE;IACX,MAAMC,GAAG,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC9C,MAAMC,GAAG,GAAG,CAAAH,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEI,OAAO,KAAI,uBAAuBb,GAAG,CAACc,MAAM,EAAE;IAC/D,MAAM,IAAIC,KAAK,CAACH,GAAG,CAAC;EACtB;EAEA,OAAOZ,GAAG,CAACU,IAAI,CAAC,CAAC,CAAC,CAAC;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}