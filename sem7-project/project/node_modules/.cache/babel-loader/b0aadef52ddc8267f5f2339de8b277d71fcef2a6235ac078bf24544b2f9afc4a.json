{"ast":null,"code":"// src/services/creator.js\nexport async function upgradeToCreator(payload = {}) {\n  const token = localStorage.getItem(\"token\");\n  // you already use this pattern elsewhere:\n  const API = process.env.REACT_APP_API_URL || \"http://localhost:3002/api\";\n  const res = await fetch(`${API}/private/upgrade`, {\n    // 👈 correct path\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? {\n        Authorization: `Bearer ${token}`\n      } : {})\n    },\n    body: JSON.stringify(payload)\n  });\n  if (!res.ok) {\n    // surface the status so you saw “404”\n    const err = await res.json().catch(() => ({}));\n    const msg = err !== null && err !== void 0 && err.message ? `${err.message}` : `Upgrade failed with ${res.status}`;\n    throw new Error(msg);\n  }\n  return res.json(); // { success, onboardingUrl, ... }\n}","map":{"version":3,"names":["upgradeToCreator","payload","token","localStorage","getItem","API","process","env","REACT_APP_API_URL","res","fetch","method","headers","Authorization","body","JSON","stringify","ok","err","json","catch","msg","message","status","Error"],"sources":["/Users/chawsuhan/Music/git-test/sem7-project/project/src/services/creator.js"],"sourcesContent":["// src/services/creator.js\nexport async function upgradeToCreator(payload = {}) {\n  const token = localStorage.getItem(\"token\");\n  // you already use this pattern elsewhere:\n  const API = process.env.REACT_APP_API_URL || \"http://localhost:3002/api\";\n\n  const res = await fetch(`${API}/private/upgrade`, {   // 👈 correct path\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? { Authorization: `Bearer ${token}` } : {})\n    },\n    body: JSON.stringify(payload)\n  });\n\n  if (!res.ok) {\n    // surface the status so you saw “404”\n    const err = await res.json().catch(() => ({}));\n    const msg = err?.message ? `${err.message}` : `Upgrade failed with ${res.status}`;\n    throw new Error(msg);\n  }\n  return res.json(); // { success, onboardingUrl, ... }\n}\n"],"mappings":"AAAA;AACA,OAAO,eAAeA,gBAAgBA,CAACC,OAAO,GAAG,CAAC,CAAC,EAAE;EACnD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C;EACA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;EAExE,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,GAAG,kBAAkB,EAAE;IAAI;IACpDM,MAAM,EAAE,OAAO;IACfC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,IAAIV,KAAK,GAAG;QAAEW,aAAa,EAAE,UAAUX,KAAK;MAAG,CAAC,GAAG,CAAC,CAAC;IACvD,CAAC;IACDY,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACf,OAAO;EAC9B,CAAC,CAAC;EAEF,IAAI,CAACQ,GAAG,CAACQ,EAAE,EAAE;IACX;IACA,MAAMC,GAAG,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC9C,MAAMC,GAAG,GAAGH,GAAG,aAAHA,GAAG,eAAHA,GAAG,CAAEI,OAAO,GAAG,GAAGJ,GAAG,CAACI,OAAO,EAAE,GAAG,uBAAuBb,GAAG,CAACc,MAAM,EAAE;IACjF,MAAM,IAAIC,KAAK,CAACH,GAAG,CAAC;EACtB;EACA,OAAOZ,GAAG,CAACU,IAAI,CAAC,CAAC,CAAC,CAAC;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}