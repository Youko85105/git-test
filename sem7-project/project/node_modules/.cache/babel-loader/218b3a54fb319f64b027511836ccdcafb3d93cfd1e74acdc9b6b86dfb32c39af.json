{"ast":null,"code":"// Dashboard API service\nimport { makeRequest } from './api';\nimport axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3002/api';\n\n// Get dashboard data based on user role\nexport const getDashboardData = async () => {\n  const token = localStorage.getItem('token');\n  return makeRequest('/private/dashboard', {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n};\n\n// Get creator stats\nexport const getCreatorStats = async () => {\n  const token = localStorage.getItem('token');\n  return makeRequest('/private/subscriber', {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n};\n\n// Get posts for creator dashboard\nexport const getCreatorPosts = async () => {\n  const token = localStorage.getItem('token');\n  return makeRequest('/private/post', {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n};\n\n// Get subscriptions for reader dashboard\nexport const getSubscriptions = async () => {\n  const token = localStorage.getItem('token');\n  return makeRequest('/private/creator/subscribed', {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n};\nexport const getAdminDashboard = async () => {\n  const token = localStorage.getItem('token');\n  console.log(token);\n  return makeRequest(`${API_BASE_URL}/admin/dashboard`, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n};\n\n// Get all creators (for admin)\nexport const getAllCreators = async () => {\n  return makeRequest('/public/creator/all', {\n    method: 'GET'\n  });\n};\n\n// Get all users (admin only)\n// export const getAllUsers = async () => {\n//     const token = localStorage.getItem('token');\n//     return axios.get(`${API_BASE_URL}/admin/users`, {\n//         headers: {\n//             'Authorization': `Bearer ${token}`,\n//         },\n//     });\n// };\n\n// Admin login\nexport const adminLogin = async credentials => {\n  return makeRequest('/auth/admin-login', {\n    method: 'POST',\n    data: credentials\n  });\n};\n\n// Get platform stats (admin)\nexport const getPlatformStats = async () => {\n  const token = localStorage.getItem('token');\n  return makeRequest('/admin/stats', {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n};\n\n// Get notifications count\nexport const getNotificationCount = async () => {\n  const token = localStorage.getItem('token');\n  return axios.get(`${API_BASE_URL}/notifications/unread/count`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n};","map":{"version":3,"names":["makeRequest","axios","API_BASE_URL","process","env","REACT_APP_API_URL","getDashboardData","token","localStorage","getItem","method","headers","getCreatorStats","getCreatorPosts","getSubscriptions","getAdminDashboard","console","log","getAllCreators","adminLogin","credentials","data","getPlatformStats","getNotificationCount","get"],"sources":["/Users/chawsuhan/Music/git-test/sem7-project/project/src/services/dashboard.js"],"sourcesContent":["// Dashboard API service\nimport { makeRequest } from './api';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3002/api';\n\n// Get dashboard data based on user role\nexport const getDashboardData = async () => {\n    const token = localStorage.getItem('token');\n    return makeRequest('/private/dashboard', {\n        method: 'GET',\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n};\n\n// Get creator stats\nexport const getCreatorStats = async () => {\n    const token = localStorage.getItem('token');\n    return makeRequest('/private/subscriber', {\n        method: 'GET',\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n};\n\n// Get posts for creator dashboard\nexport const getCreatorPosts = async () => {\n    const token = localStorage.getItem('token');\n    return makeRequest('/private/post', {\n        method: 'GET',\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n};\n\n// Get subscriptions for reader dashboard\nexport const getSubscriptions = async () => {\n    const token = localStorage.getItem('token');\n    return makeRequest('/private/creator/subscribed', {\n        method: 'GET',\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n};\n\nexport const getAdminDashboard = async() => {\n    const token = localStorage.getItem('token');\n    console.log(token);\n    \n    return makeRequest(`${API_BASE_URL}/admin/dashboard`, {\n        method: 'GET',\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n};\n\n// Get all creators (for admin)\nexport const getAllCreators = async () => {\n    return makeRequest('/public/creator/all', {\n        method: 'GET',\n    });\n};\n\n// Get all users (admin only)\n// export const getAllUsers = async () => {\n//     const token = localStorage.getItem('token');\n//     return axios.get(`${API_BASE_URL}/admin/users`, {\n//         headers: {\n//             'Authorization': `Bearer ${token}`,\n//         },\n//     });\n// };\n\n// Admin login\nexport const adminLogin = async (credentials) => {\n    return makeRequest('/auth/admin-login', {\n        method: 'POST',\n        data: credentials,\n    });\n};\n\n// Get platform stats (admin)\nexport const getPlatformStats = async () => {\n    const token = localStorage.getItem('token');\n    return makeRequest('/admin/stats', {\n        method: 'GET',\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n};\n\n// Get notifications count\nexport const getNotificationCount = async () => {\n    const token = localStorage.getItem('token');\n    return axios.get(`${API_BASE_URL}/notifications/unread/count`, {\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}